<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Michelin Stars: A Journey from Patterns to Truth</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            line-height: 1.8;
            color: #1a1a1a;
            background: #fafafa;
        }

        .hero {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 120px 20px 80px;
            text-align: center;
        }

        .hero h1 {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            line-height: 1.2;
            max-width: 1000px;
            margin-left: auto;
            margin-right: auto;
        }

        .hero .subtitle {
            font-size: 1.5rem;
            opacity: 0.95;
            font-style: italic;
            max-width: 800px;
            margin: 0 auto;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .wide-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .story-section {
            background: white;
            padding: 60px 40px;
            margin: 40px 0;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        h2 {
            font-size: 2.2rem;
            margin: 40px 0 20px;
            color: #2c3e50;
            font-weight: 600;
        }

        h3 {
            font-size: 1.6rem;
            margin: 30px 0 15px;
            color: #34495e;
        }

        p {
            font-size: 1.15rem;
            margin: 20px 0;
            color: #2c3e50;
        }

        .highlight-box {
            background: #e8f4f8;
            border-left: 4px solid #2196F3;
            padding: 20px 30px;
            margin: 30px 0;
            border-radius: 4px;
        }

        .highlight-box h4 {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: #1565C0;
        }

        .caveat-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 20px 30px;
            margin: 30px 0;
            border-radius: 4px;
        }

        .caveat-box h4 {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: #856404;
        }

        .stat-callout {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 12px;
            margin: 40px 0;
            text-align: center;
        }

        .stat-callout .number {
            font-size: 4rem;
            font-weight: bold;
            display: block;
            margin-bottom: 10px;
        }

        .stat-callout .label {
            font-size: 1.3rem;
            opacity: 0.95;
        }

        .viz-container {
            margin: 50px 0;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .viz-title {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: #2c3e50;
            text-align: center;
        }

        .chart {
            min-height: 400px;
        }

        .footnote {
            font-size: 0.9rem;
            color: #666;
            font-style: italic;
            margin-top: 10px;
        }

        .author-note {
            border-top: 2px solid #e0e0e0;
            margin-top: 60px;
            padding-top: 30px;
            font-size: 1rem;
            color: #666;
        }

        .data-source {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 8px;
            margin: 40px 0;
            font-size: 0.95rem;
            color: #495057;
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2rem;
            }
            .hero .subtitle {
                font-size: 1.1rem;
            }
            .stat-callout .number {
                font-size: 2.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="hero">
        <h1>Michelin Stars: A Data Investigation</h1>
        <p class="subtitle">What 22,000 restaurants reveal about culinary excellence—and what we got wrong along the way</p>
    </div>

    <div class="container">
        <div class="story-section">
            <p style="font-size: 1.3rem; font-style: italic; color: #555;">
                This is a story about data analysis itself—how patterns can mislead, how skepticism can overcorrect, and how truth emerges only through rigorous iteration.
            </p>

            <p>
                When you analyze 21,910 Michelin-recognized restaurants across 45 countries, surprising patterns emerge. Some are real. Some are artifacts. The challenge is knowing which is which.
            </p>

            <h2>Tokyo: A Genuine Culinary Capital</h2>

            <p>
                The data shows Tokyo with more Michelin-recognized restaurants than any city in the world: 718 restaurants including 13 with three stars. Paris, by comparison, has 529 restaurants with 10 three-star establishments.
            </p>
        </div>
    </div>

    <div class="wide-container">
        <div class="viz-container">
            <div class="viz-title">Tokyo vs Paris: Restaurant Distribution</div>
            <div id="tokyo-paris-chart" class="chart"></div>
            <p class="footnote">Star points calculated as: (3-stars × 3) + (2-stars × 2) + (1-star × 1)</p>
        </div>
    </div>

    <div class="container">
        <div class="story-section">
            <div class="stat-callout">
                <span class="number">275</span>
                <span class="label">Tokyo's star points vs Paris's 169</span>
            </div>

            <p>
                At first glance, this suggests Tokyo has "dethroned" Paris. But context matters enormously.
            </p>

            <div class="caveat-box">
                <h4>Important Context</h4>
                <p style="margin: 0;">
                    Paris has had Michelin coverage for 124 years (since 1900). Tokyo launched its guide in 2007—just 17 years ago. Tokyo also has 160,000 total restaurants compared to Paris's 40,000, providing a vastly larger pool for Michelin to evaluate. At Tokyo's launch, Michelin awarded 191 stars immediately.
                </p>
            </div>

            <p>
                Yet Tokyo's excellence is <strong>independently validated</strong>. The World's 50 Best Restaurants 2025 list includes four Japanese restaurants in the top 50. Asia's 50 Best features nine Tokyo establishments. CNN, Saveur, and culinary experts consistently rank Tokyo among the world's top three food cities.
            </p>

            <p>
                <strong>The truth is nuanced</strong>: Tokyo is genuinely exceptional, with deep culinary traditions (kaiseki, shokunin mastery, centuries of refinement). The high restaurant count reflects both excellence AND greater restaurant density. Both things are true simultaneously.
            </p>

            <h2>Where Stars Concentrate</h2>

            <p>
                Small markets show interesting patterns. In countries with at least 50 Michelin-recognized restaurants, Macau leads with the highest ratio of stars to total restaurants—what we might call "star concentration."
            </p>
        </div>
    </div>

    <div class="wide-container">
        <div class="viz-container">
            <div class="viz-title">Star Concentration by Country</div>
            <div id="efficiency-chart" class="chart"></div>
            <p class="footnote">Countries with at least 50 Michelin-recognized restaurants</p>
        </div>
    </div>

    <div class="container">
        <div class="story-section">
            <p>
                What does this mean? In Macau, Hong Kong, and Norway, Michelin's selections show high star concentration. This could reflect:
            </p>

            <ul style="margin: 20px 0 20px 40px; font-size: 1.15rem;">
                <li>Genuinely higher quality density</li>
                <li>More selective initial coverage in smaller markets</li>
                <li>Cultural factors (small populations, high culinary standards)</li>
            </ul>

            <div class="caveat-box">
                <h4>Interpretation Note</h4>
                <p style="margin: 0;">
                    This metric shows where Michelin finds concentrated excellence, not necessarily "better" culinary scenes. Selection bias exists—Michelin curates which restaurants to review. In newer or smaller markets, they may focus on likely star recipients. The pattern is informative but requires careful interpretation.
                </p>
            </div>

            <h2>Sustainability and Quality</h2>

            <p>
                In 2020, Michelin introduced the Green Star for restaurants demonstrating exceptional sustainability. The data reveals a clear pattern: higher-level restaurants are more likely to have Green Stars.
            </p>
        </div>
    </div>

    <div class="wide-container">
        <div class="viz-container">
            <div class="viz-title">Green Stars by Award Level</div>
            <div id="green-stars-chart" class="chart"></div>
        </div>
    </div>

    <div class="container">
        <div class="story-section">
            <div class="stat-callout">
                <span class="number">24%</span>
                <span class="label">of three-star restaurants have earned a Green Star</span>
            </div>

            <p>
                At first, this might seem like geographic confounding—most Green Stars (87.9%) are in Europe, where most three-star restaurants are also located. But peer-reviewed research validates a genuine connection between sustainability and quality.
            </p>

            <div class="highlight-box">
                <h4>Research Support</h4>
                <p style="margin: 0;">
                    Multiple academic studies show sustainable practices significantly influence customer satisfaction. Consumers are willing to pay a 20% premium for sustainable dining. Local sourcing promotes freshness and quality. The Green Star correlation appears to reflect a real phenomenon: at elite levels, resources enable both culinary excellence and environmental responsibility.
                </p>
            </div>

            <h2>The Evolution of Excellence</h2>

            <p>
                Perhaps the most interesting trend is cultural: Michelin now recognizes excellence at all price points, from $2.50 tacos in Mexico City to $400 tasting menus in Paris.
            </p>
        </div>
    </div>

    <div class="wide-container">
        <div class="viz-container">
            <div class="viz-title">Average Price Level by Award Category</div>
            <div id="price-chart" class="chart"></div>
            <p class="footnote">Price level based on €/$ symbols (1 = €, 2 = €€, etc.)</p>
        </div>
    </div>

    <div class="container">
        <div class="story-section">
            <p>
                Only 1.7% of starred restaurants are at affordable price points. Is this "democratization"? The answer depends on perspective.
            </p>

            <p>
                The glass-half-empty view: 98.3% remain expensive. Stars are still overwhelmingly associated with high prices.
            </p>

            <p>
                The glass-half-full view: Recognition of street food vendors and casual eateries represents genuine philosophical evolution. Michelin expanded its definition of what counts as excellence. This matters.
            </p>

            <p>
                <strong>Both perspectives are valid.</strong> The guide has evolved culturally—recognizing hawker centers in Singapore, taquerías in Mexico City, and casual bistros globally. Even if only 1.7%, this is infinitely more than the zero it was before Asian expansion.
            </p>

            <h2>Street Food Recognition</h2>

            <p>
                The data includes 332 restaurants classified as "street food"—nearly all in Asia. This reflects Michelin adapting to local food cultures where exceptional cooking exists outside formal dining rooms.
            </p>
        </div>
    </div>

    <div class="wide-container">
        <div class="viz-container">
            <div class="viz-title">Michelin-Recognized Street Food by Location</div>
            <div id="street-food-chart" class="chart"></div>
        </div>
    </div>

    <div class="container">
        <div class="story-section">
            <p>
                Singapore alone has 164 street food establishments in the guide. Two have earned stars. This represents cultural learning: excellence takes many forms.
            </p>

            <h2>What We Can Actually Conclude</h2>

            <p>
                After analyzing the data, critiquing our assumptions, and validating with external research, here's what we can confidently say:
            </p>

            <div class="highlight-box">
                <h4>Validated Findings</h4>
                <p><strong>Tokyo is a genuine culinary capital</strong>, independently confirmed by World's 50 Best, Asia's 50 Best, and culinary experts. Its Michelin success reflects both excellence and restaurant density.</p>

                <p><strong>Michelin maintains credible standards</strong>, validated by peer-reviewed academic research showing measurable business impact (25% price premium) and rigorous methodology.</p>

                <p><strong>Sustainability correlates with quality</strong> in restaurants. Multiple studies support this link, with consumers paying premiums for sustainable dining.</p>

                <p style="margin: 0;"><strong>Cultural diversification is meaningful</strong>, representing philosophical evolution in recognizing diverse forms of excellence.</p>
            </div>

            <div class="caveat-box">
                <h4>Important Caveats</h4>
                <p><strong>Context matters:</strong> Tokyo has 17 years of coverage vs Paris's 124 years. Restaurant density is 4x higher. Direct comparisons require major adjustments.</p>

                <p><strong>Selection bias exists:</strong> Michelin curates which restaurants to review, especially in newer markets. This affects interpretations.</p>

                <p><strong>Commercial relationships exist:</strong> Tourism boards pay for coverage. But this doesn't necessarily compromise quality—Michelin's business model requires maintaining credibility.</p>

                <p style="margin: 0;"><strong>Correlation isn't causation:</strong> We observe patterns but can't always determine directional causation.</p>
            </div>

            <h2>The Meta-Lesson</h2>

            <p>
                This analysis went through three stages: initial pattern-finding, skeptical critique, and nuanced synthesis. Each stage was necessary.
            </p>

            <p>
                <strong>Stage 1</strong> found surprising patterns but lacked sufficient skepticism.<br>
                <strong>Stage 2</strong> applied rigorous critique but overcorrected into excessive cynicism.<br>
                <strong>Stage 3</strong> synthesized competing evidence into balanced conclusions.
            </p>

            <p>
                The real lesson: <em>good data analysis requires holding multiple truths simultaneously</em>. Tokyo IS excellent AND comparisons need caveats. Michelin IS credible AND has biases. Patterns ARE real AND causes are complex.
            </p>

            <p>
                Truth emerges not from a single pass, but through iterative refinement. The journey from patterns to truth is itself the most important story.
            </p>

            <div class="author-note">
                <strong>Methodology:</strong> This analysis examined 21,910 Michelin-recognized restaurants from the 2024-2025 guide. Initial findings were validated against peer-reviewed research, independent restaurant rankings (World's 50 Best, Asia's 50 Best), and academic studies on restaurant quality, sustainability, and consumer behavior.

                <p style="margin-top: 15px;"><strong>Complete Analysis:</strong> See the GitHub repository for the full analytical journey including initial analysis, critical examination, meta-critique, and detailed methodology.</p>
            </div>

            <div class="data-source">
                <strong>Data Sources:</strong><br>
                - Michelin Guide Official Data (via ngshiheng/michelin-my-maps)<br>
                - Dataset: 21,910 restaurants across 45 countries<br>
                - Coverage: All award levels (3, 2, 1 star, Bib Gourmand, Selected Restaurants)<br>
                - Updated: November 2024<br>
                - Validation: Cross-referenced with World's 50 Best, academic research, industry sources
            </div>
        </div>
    </div>

    <script>
        // Load and visualize data
        Promise.all([
            d3.json('tokyo_vs_paris.json'),
            d3.json('star_efficiency.json'),
            d3.json('green_stars.json'),
            d3.json('price_analysis.json'),
            d3.json('street_food.json')
        ]).then(([tokyoParis, efficiency, greenStars, priceAnalysis, streetFood]) => {

            // Tokyo vs Paris
            const cities = tokyoParis.map(d => d.city);
            const trace1 = {
                x: cities,
                y: tokyoParis.map(d => d.three_stars),
                name: '3 Stars',
                type: 'bar',
                marker: { color: '#FFD700' }
            };
            const trace2 = {
                x: cities,
                y: tokyoParis.map(d => d.two_stars),
                name: '2 Stars',
                type: 'bar',
                marker: { color: '#C0C0C0' }
            };
            const trace3 = {
                x: cities,
                y: tokyoParis.map(d => d.one_star),
                name: '1 Star',
                type: 'bar',
                marker: { color: '#CD7F32' }
            };
            const trace4 = {
                x: cities,
                y: tokyoParis.map(d => d.bib_gourmand),
                name: 'Bib Gourmand',
                type: 'bar',
                marker: { color: '#E74C3C' }
            };

            Plotly.newPlot('tokyo-paris-chart', [trace1, trace2, trace3, trace4], {
                barmode: 'group',
                height: 400,
                margin: { t: 20, b: 40, l: 60, r: 20 },
                xaxis: { title: '' },
                yaxis: { title: 'Number of Restaurants' },
                font: { family: 'Georgia, serif', size: 12 }
            }, {responsive: true});

            // Star Efficiency
            const efficiencyTrace = {
                x: efficiency.map(d => d.country),
                y: efficiency.map(d => d.efficiency),
                type: 'bar',
                marker: {
                    color: efficiency.map(d => d.efficiency),
                    colorscale: 'Viridis',
                    showscale: false
                },
                text: efficiency.map(d => d.efficiency.toFixed(2)),
                textposition: 'outside'
            };

            Plotly.newPlot('efficiency-chart', [efficiencyTrace], {
                height: 500,
                margin: { t: 20, b: 100, l: 60, r: 20 },
                xaxis: { title: '', tickangle: -45 },
                yaxis: { title: 'Star Concentration (Stars per Restaurant)' },
                font: { family: 'Georgia, serif', size: 12 }
            }, {responsive: true});

            // Green Stars by Award
            const greenData = greenStars.by_award;
            const greenTrace = {
                x: greenData.map(d => d.award),
                y: greenData.map(d => d.percentage),
                type: 'bar',
                marker: { color: '#27AE60' },
                text: greenData.map(d => d.percentage.toFixed(1) + '%'),
                textposition: 'outside'
            };

            Plotly.newPlot('green-stars-chart', [greenTrace], {
                height: 400,
                margin: { t: 20, b: 100, l: 60, r: 20 },
                xaxis: { title: '', tickangle: -45 },
                yaxis: { title: '% with Green Star' },
                font: { family: 'Georgia, serif', size: 12 }
            }, {responsive: true});

            // Price Analysis
            const priceData = priceAnalysis.by_award;
            const priceTrace = {
                x: priceData.map(d => d.award),
                y: priceData.map(d => d.mean),
                type: 'bar',
                marker: {
                    color: ['#FFD700', '#C0C0C0', '#CD7F32', '#E74C3C', '#95A5A6']
                },
                text: priceData.map(d => d.mean.toFixed(2)),
                textposition: 'outside',
                error_y: {
                    type: 'data',
                    array: priceData.map(d => d.std),
                    visible: true
                }
            };

            Plotly.newPlot('price-chart', [priceTrace], {
                height: 400,
                margin: { t: 20, b: 100, l: 60, r: 20 },
                xaxis: { title: '', tickangle: -45 },
                yaxis: { title: 'Average Price Level (1-5)', range: [0, 5] },
                font: { family: 'Georgia, serif', size: 12 }
            }, {responsive: true});

            // Street Food
            const streetData = streetFood.by_location;
            const streetTrace = {
                x: streetData.map(d => d.location),
                y: streetData.map(d => d.count),
                type: 'bar',
                marker: { color: '#3498DB' },
                text: streetData.map(d => d.count),
                textposition: 'outside'
            };

            Plotly.newPlot('street-food-chart', [streetTrace], {
                height: 500,
                margin: { t: 20, b: 120, l: 60, r: 20 },
                xaxis: { title: '', tickangle: -45 },
                yaxis: { title: 'Number of Street Food Restaurants' },
                font: { family: 'Georgia, serif', size: 12 }
            }, {responsive: true});
        });
    </script>
</body>
</html>
